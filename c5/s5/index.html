
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="通过python解决算法和数据结构问题">
      
      
      
      
        <link rel="prev" href="../s4/">
      
      
        <link rel="next" href="../s6/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.4">
    
    
      
        <title>5.5. 哈希 - python数据结构和算法 - 中文版</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.bd3936ea.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
      <link rel="stylesheet" href="https://unpkg.com/katex@0/dist/katex.min.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
        html.glightbox-open { overflow: initial; height: 100%; }
        .gslide-title { margin-top: 0px; user-select: text; }
        .gslide-desc { color: #666; user-select: text; }
        .gslide-image img { background: white; }
        
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}
            </style> <script src="../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="blue">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#55-哈希" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
          <aside class="md-banner md-banner--warning">
            <div class="md-banner__inner md-grid md-typeset">
              
你当前浏览的版本已不是最新版本，
<a href="../../..">
    <strong>点击这里</strong>
</a>查看最新版本的文档

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),outdated=__md_get("__outdated",sessionStorage);!0===outdated&&el&&(el.hidden=!1)</script>
          </aside>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../.." title="python数据结构和算法 - 中文版" class="md-header__button md-logo" aria-label="python数据结构和算法 - 中文版" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            python数据结构和算法 - 中文版
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              5.5. 哈希
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/hellowac/pythonds-zh-cn/" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    python数据结构和算法 - 中文版
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  首页

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../c1/" class="md-tabs__link">
          
  
    
  
  1. 引言

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../c2/" class="md-tabs__link">
          
  
    
  
  2. 算法分析

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../c3/" class="md-tabs__link">
          
  
    
  
  3. 基本数据结构

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../c4/" class="md-tabs__link">
          
  
    
  
  4. 递归

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
    
  
  5. 搜索与排序

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../c6/" class="md-tabs__link">
          
  
    
  
  6. 树和树算法

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../c7/" class="md-tabs__link">
          
  
    
  
  7. 图和图算法

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../c8/" class="md-tabs__link">
          
  
    
  
  8. 高级主题

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="python数据结构和算法 - 中文版" class="md-nav__button md-logo" aria-label="python数据结构和算法 - 中文版" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    python数据结构和算法 - 中文版
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/hellowac/pythonds-zh-cn/" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    python数据结构和算法 - 中文版
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    首页
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../c1/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    1. 引言
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            1. 引言
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c1/s1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.1. 目标
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c1/s2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.2. 入门
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c1/s3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.3. 什么是计算机科学？
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c1/s4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.4. 什么是编程？
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c1/s5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.5. 为什么学习数据结构和抽象数据类型？
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c1/s6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.6. 为什么学习算法？
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c1/s7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.7. Python基础回顾
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c1/s8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.8. 数据入门
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c1/s9/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.9. 输入和输出
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c1/s10/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.10. 控制结构
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c1/s11/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.11. 异常处理
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c1/s12/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.12. 定义函数
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c1/s13/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.13. Python中的面向对象编程：定义类
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c1/s14/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.14. 总结
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c1/s15/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.15. 关键术语
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c1/s16/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.16. 练习
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../c2/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    2. 算法分析
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            2. 算法分析
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c2/s1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.1. 目标
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c2/s2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.2. 什么是算法分析？
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c2/s3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.3. 大O表示法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c2/s4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.4. 一个字谜检测例子
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c2/s5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.5. Python数据结构的性能
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c2/s6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.6. 列表
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c2/s7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.7. 字典
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c2/s8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.8. 总结
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c2/s9/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.9. 关键术语
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c2/s10/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.10. 练习
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../c3/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    3. 基本数据结构
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            3. 基本数据结构
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c3/s1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.1. 目标
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c3/s2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.2. 什么是线性结构？
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c3/s3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.3. 栈
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c3/s4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.4. 栈的抽象数据类型
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c3/s5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.5. 用Python实现栈
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c3/s6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.6. 简单的括号匹配
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c3/s7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.7. 符号匹配（一般情况）
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c3/s8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.8. 将十进制数转换为二进制数
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c3/s9/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.9. 中缀、前缀和后缀表达式
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c3/s10/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.10. 队列
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c3/s11/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.11. 队列的抽象数据类型
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c3/s12/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.12. 用Python实现队列
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c3/s13/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.13. 队列模拟：烫手山芋游戏
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c3/s14/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.14. 队列模拟：打印任务
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c3/s15/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.15. 双端队列
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c3/s16/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.16. 双端队列的抽象数据类型
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c3/s17/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.17. 用Python实现双端队列
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c3/s18/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.18. 回文检测器
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c3/s19/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.19. 列表
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c3/s20/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.20. 无序列表的抽象数据类型
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c3/s21/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.21. 用链表实现无序列表
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c3/s22/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.22. 有序列表的抽象数据类型
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c3/s23/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.23. 实现有序列表
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c3/s24/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.24. 总结
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c3/s25/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.25. 关键词术语
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c3/s26/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.26. 练习
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../c4/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    4. 递归
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            4. 递归
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c4/s1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.1. 目标
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c4/s2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.2. 什么是递归？
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c4/s3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.3. 计算一个数列的和
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c4/s4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.4. 递归的三条法则
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c4/s5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.5. 将整数转换为任意进制的字符串
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c4/s6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.6. 栈帧：实现递归
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c4/s7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.7. 递归的可视化
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c4/s8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.8. 谢尔宾斯基三角形
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c4/s9/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.9. 复杂的递归问题
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c4/s10/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.10. 汉诺塔问题
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c4/s11/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.11. 迷宫探索
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c4/s12/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.12. 动态规划
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c4/s13/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.13. 总结
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c4/s14/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.14. 关键术语
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c4/s15/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.15. 练习
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    5. 搜索与排序
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6" id="__nav_6_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            5. 搜索与排序
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../s1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5.1. 目标
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../s2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5.2. 搜索
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../s3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5.3. 顺序搜索
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../s4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5.4. 二分搜索
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    5.5. 哈希
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    5.5. 哈希
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#551-哈希函数" class="md-nav__link">
    5.5.1. 哈希函数
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#552-碰撞解决" class="md-nav__link">
    5.5.2. 碰撞解决
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#553-实现map抽象数据类型" class="md-nav__link">
    5.5.3. 实现Map抽象数据类型
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#554-哈希分析" class="md-nav__link">
    5.5.4. 哈希分析
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../s6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5.6. 排序
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../s7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5.7. 冒泡排序
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../s8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5.8. 选择排序
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../s9/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5.9. 插入排序
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../s10/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5.10. 希尔排序
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../s11/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5.11. 归并排序
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../s12/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5.12. 快速排序
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../s13/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5.13. 总结
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../s14/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5.14. 关键术语
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../s15/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5.15. 练习
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../c6/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    6. 树和树算法
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7" id="__nav_7_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            6. 树和树算法
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c6/s1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.1. 目标
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c6/s2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.2. 树的示例
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c6/s3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.3. 词汇和定义
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c6/s4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.4. 实现
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c6/s5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.5. 列表表示法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c6/s6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.6. 节点与引用
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c6/s7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.7. 解析树
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c6/s8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.8. 树遍历
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c6/s9/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.9. 使用二叉堆的优先队列
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c6/s10/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.10. 二叉堆操作
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c6/s11/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.11. 二叉堆实现
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c6/s12/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.12. 二叉搜索树
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c6/s13/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.13. 搜索树操作
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c6/s14/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.14. 搜索树实现
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c6/s15/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.15. 搜索树分析
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c6/s16/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.16. 平衡二叉搜索树
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c6/s17/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.17. AVL树性能
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c6/s18/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.18. AVL树实现
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c6/s19/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.19. Map ADT实现总结
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c6/s20/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.20. 总结
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c6/s21/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.21. 关键术语
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c6/s22/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.22. 练习
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../c7/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    7. 图和图算法
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8" id="__nav_8_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            7. 图和图算法
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c7/s1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.1. 目标
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c7/s2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.2. 词汇和定义
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c7/s3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.3. 图的抽象数据类型
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c7/s4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.4. 邻接矩阵
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c7/s5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.5. 邻接表
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c7/s6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.6. 实现
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c7/s7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.7. 字梯问题
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c7/s8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.8. 构建字梯图
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c7/s9/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.9. 实现广度优先搜索
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c7/s10/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.10. 广度优先搜索分析
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c7/s11/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.11. 骑士巡游问题
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c7/s12/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.12. 构建骑士巡游图
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c7/s13/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.13. 实现骑士巡游
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c7/s14/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.14. 骑士巡游分析
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c7/s15/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.15. 一般的深度优先搜索
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c7/s16/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.16. 深度优先搜索分析
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c7/s17/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.17. 拓扑排序
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c7/s18/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.18. 强连通分量
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c7/s19/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.19. 最短路径问题
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c7/s20/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.20. Dijkstra算法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c7/s21/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.21. Dijkstra算法分析
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c7/s22/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.22. Prim生成树算法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c7/s23/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.23. 总结
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c7/s24/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.24. 关键术语
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c7/s25/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.25. 练习
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../c8/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    8. 高级主题
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9" id="__nav_9_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            8. 高级主题
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c8/s1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    8.1. 目标
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c8/s2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    8.2. Python列表再探
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c8/s3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    8.3. 递归再探
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c8/s4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    8.4. 字典再探：跳表
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c8/s5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    8.5. 树再探：图像量化
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../c8/s6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    8.6. 图再探：模式匹配
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#551-哈希函数" class="md-nav__link">
    5.5.1. 哈希函数
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#552-碰撞解决" class="md-nav__link">
    5.5.2. 碰撞解决
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#553-实现map抽象数据类型" class="md-nav__link">
    5.5.3. 实现Map抽象数据类型
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#554-哈希分析" class="md-nav__link">
    5.5.4. 哈希分析
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="55-哈希">5.5. 哈希<a class="headerlink" href="#55-哈希" title="Permanent link">&para;</a></h1>
<p><strong>5.5. Hashing</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">中文</label><label for="__tabbed_1_2">英文</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>In previous sections we were able to make improvements in our search algorithms by taking advantage of information about where items are stored in the collection with respect to one another. For example, by knowing that a list was ordered, we could search in logarithmic time using a binary search. In this section we will attempt to go one step further by building a data structure that can be searched in <span class="arithmatex">\(O(1)\)</span> time. This concept is referred to as <strong>hashing</strong>.</p>
<p>In order to do this, we will need to know even more about where the items might be when we go to look for them in the collection. If every item is where it should be, then the search can use a single comparison to discover the presence of an item. We will see, however, that this is typically not the case.</p>
<p>A <strong>hash table</strong> is a collection of items which are stored in such a way as to make it easy to find them later. Each position of the hash table, often called a <strong>slot</strong>, can hold an item and is named by an integer value starting at 0. For example, we will have a slot named 0, a slot named 1, a slot named 2, and so on. Initially, the hash table contains no items so every slot is empty. We can implement a hash table by using a list with each element initialized to the special Python value <code>None</code>. <code>Figure 4</code> shows a hash table of size <span class="arithmatex">\(m = 11\)</span>. In other words, there are <span class="arithmatex">\(m\)</span> slots in the table, named 0 through 10.</p>
<p><figure markdown="span">
    <a class="glightbox" href="../imgs/hashtable.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Image title" src="../imgs/hashtable.png" /></a>
    <figcaption markdown="span">Figure 4: Hash Table with 11 Empty Slots</figcaption>
</figure></p>
<p>The mapping between an item and the slot where that item belongs in the hash table is called the <strong>hash function</strong>. The hash function will take any item in the collection and return an integer in the range of slot names between 0 and <span class="arithmatex">\(m - 1\)</span>. Assume that we have the set of integer items 54, 26, 93, 17, 77, and 31. Our first hash function, sometimes referred to as the <em>remainder method</em>, simply takes an item and divides it by the table size, returning the remainder as its hash value (<span class="arithmatex">\(h(item)=item \% 11\)</span>). <span class="arithmatex">\(Table 4\)</span> gives all of the hash values for our example items. Note that this remainder method (modulo) will typically be present in some form in all hash functions since the result must be in the range of slot names.</p>
<p><strong>Table 4: Simple Hash Function Using Remainders</strong></p>
<table>
<thead>
<tr>
<th><strong>Item</strong></th>
<th><strong>Hash Value</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>54</td>
<td>10</td>
</tr>
<tr>
<td>26</td>
<td>4</td>
</tr>
<tr>
<td>93</td>
<td>5</td>
</tr>
<tr>
<td>17</td>
<td>6</td>
</tr>
<tr>
<td>77</td>
<td>0</td>
</tr>
<tr>
<td>31</td>
<td>9</td>
</tr>
</tbody>
</table>
<p>Once the hash values have been computed, we can insert each item into the hash table at the designated position as shown in <code>Figure 5</code>. Note that 6 of the 11 slots are now occupied. This is referred to as the <strong>load factor</strong>, and is commonly denoted by <span class="arithmatex">\(\lambda = \frac {number\_of\_items}{table\_size}\)</span>. For this example, <span class="arithmatex">\(\lambda = \frac {6}{11}\)</span>.</p>
<p><figure markdown="span">
    <a class="glightbox" href="../imgs/hashtable2.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Image title" src="../imgs/hashtable2.png" /></a>
    <figcaption markdown="span">Figure 5: Hash Table with Six Items</figcaption>
</figure></p>
<p>Now when we want to search for an item, we simply use the hash function to compute the slot name for the item and then check the hash table to see if it is present. This searching operation is <span class="arithmatex">\(O(1)\)</span> since a constant amount of time is required to compute the hash value and then index the hash table at that location. If everything is where it should be, we have found a constant time search algorithm.</p>
<p>You can probably already see that this technique is going to work only if each item maps to a unique location in the hash table. For example, if the item 44 had been the next item in our collection, it would have a hash value of 0 (<span class="arithmatex">\(44\ \%\ 11 = 0\)</span>). Since 77 also had a hash value of 0, we would have a problem. According to the hash function, two or more items would need to be in the same slot. This is referred to as a <strong>collision</strong> (it may also be called a <em>clash</em>). Clearly, collisions create a problem for the hashing technique. We will discuss them in detail later.</p>
</div>
<div class="tabbed-block">
<p>In previous sections we were able to make improvements in our search algorithms by taking advantage of information about where items are stored in the collection with respect to one another. For example, by knowing that a list was ordered, we could search in logarithmic time using a binary search. In this section we will attempt to go one step further by building a data structure that can be searched in <span class="arithmatex">\(O(1)\)</span> time. This concept is referred to as <strong>hashing</strong>.</p>
<p>In order to do this, we will need to know even more about where the items might be when we go to look for them in the collection. If every item is where it should be, then the search can use a single comparison to discover the presence of an item. We will see, however, that this is typically not the case.</p>
<p>A <strong>hash table</strong> is a collection of items which are stored in such a way as to make it easy to find them later. Each position of the hash table, often called a <strong>slot</strong>, can hold an item and is named by an integer value starting at 0. For example, we will have a slot named 0, a slot named 1, a slot named 2, and so on. Initially, the hash table contains no items so every slot is empty. We can implement a hash table by using a list with each element initialized to the special Python value <code>None</code>. <code>Figure 4</code> shows a hash table of size <span class="arithmatex">\(m = 11\)</span>. In other words, there are <span class="arithmatex">\(m\)</span> slots in the table, named 0 through 10.</p>
<p><figure markdown="span">
    <a class="glightbox" href="../imgs/hashtable.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Image title" src="../imgs/hashtable.png" /></a>
    <figcaption markdown="span">Figure 4: Hash Table with 11 Empty Slots</figcaption>
</figure></p>
<p>The mapping between an item and the slot where that item belongs in the hash table is called the <strong>hash function</strong>. The hash function will take any item in the collection and return an integer in the range of slot names between 0 and <span class="arithmatex">\(m - 1\)</span>. Assume that we have the set of integer items 54, 26, 93, 17, 77, and 31. Our first hash function, sometimes referred to as the <em>remainder method</em>, simply takes an item and divides it by the table size, returning the remainder as its hash value (<span class="arithmatex">\(h(item)=item \% 11\)</span>). <span class="arithmatex">\(Table 4\)</span> gives all of the hash values for our example items. Note that this remainder method (modulo) will typically be present in some form in all hash functions since the result must be in the range of slot names.</p>
<p><strong>Table 4: Simple Hash Function Using Remainders</strong></p>
<table>
<thead>
<tr>
<th><strong>Item</strong></th>
<th><strong>Hash Value</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>54</td>
<td>10</td>
</tr>
<tr>
<td>26</td>
<td>4</td>
</tr>
<tr>
<td>93</td>
<td>5</td>
</tr>
<tr>
<td>17</td>
<td>6</td>
</tr>
<tr>
<td>77</td>
<td>0</td>
</tr>
<tr>
<td>31</td>
<td>9</td>
</tr>
</tbody>
</table>
<p>Once the hash values have been computed, we can insert each item into the hash table at the designated position as shown in <code>Figure 5</code>. Note that 6 of the 11 slots are now occupied. This is referred to as the <strong>load factor</strong>, and is commonly denoted by <span class="arithmatex">\(\lambda = \frac {number\_of\_items}{table\_size}\)</span>. For this example, <span class="arithmatex">\(\lambda = \frac {6}{11}\)</span>.</p>
<p><figure markdown="span">
    <a class="glightbox" href="../imgs/hashtable2.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Image title" src="../imgs/hashtable2.png" /></a>
    <figcaption markdown="span">Figure 5: Hash Table with Six Items</figcaption>
</figure></p>
<p>Now when we want to search for an item, we simply use the hash function to compute the slot name for the item and then check the hash table to see if it is present. This searching operation is <span class="arithmatex">\(O(1)\)</span> since a constant amount of time is required to compute the hash value and then index the hash table at that location. If everything is where it should be, we have found a constant time search algorithm.</p>
<p>You can probably already see that this technique is going to work only if each item maps to a unique location in the hash table. For example, if the item 44 had been the next item in our collection, it would have a hash value of 0 (<span class="arithmatex">\(44\ \%\ 11 = 0\)</span>). Since 77 also had a hash value of 0, we would have a problem. According to the hash function, two or more items would need to be in the same slot. This is referred to as a <strong>collision</strong> (it may also be called a <em>clash</em>). Clearly, collisions create a problem for the hashing technique. We will discuss them in detail later.</p>
</div>
</div>
</div>
<h2 id="551-哈希函数">5.5.1. 哈希函数<a class="headerlink" href="#551-哈希函数" title="Permanent link">&para;</a></h2>
<p><strong>5.5.1. Hash Functions</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">中文</label><label for="__tabbed_2_2">英文</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Given a collection of items, a hash function that maps each item into a unique slot is referred to as a <strong>perfect hash function</strong>. If we know the items and the collection will never change, then it is possible to construct a perfect hash function. Unfortunately, given an arbitrary collection of items, there is no systematic way to construct a perfect hash function. Luckily, we do not need the hash function to be perfect to still gain performance efficiency.</p>
<p>One way to always have a perfect hash function is to increase the size of the hash table so that each possible value in the item range can be accommodated. This guarantees that each item will have a unique slot. Although this is practical for small numbers of items, it is not feasible when the number of possible items is large. For example, if the items were nine-digit Social Security numbers, this method would require almost one billion slots. If we only want to store data for a class of 25 students, we will be wasting an enormous amount of memory.</p>
<p>Our goal is to create a hash function that minimizes the number of collisions, is easy to compute, and evenly distributes the items in the hash table. To that end, there are a number of common ways to extend the simple remainder method. We will consider a few of them here.</p>
<p>The <strong>folding method</strong> for constructing hash functions begins by dividing the item into equal-sized pieces (the last piece may not be of equal size). These pieces are then added together to give the resulting hash value. For example, if our item was the phone number 436-555-4601, we would take the digits and divide them into groups of 2 (43, 65, 55, 46, 01). After the addition, <span class="arithmatex">\(43 + 65 + 55 + 46 + 01\)</span>, we get 1.   If we assume our hash table has 11 slots, then we need to perform the extra step of dividing by 11 and keeping the remainder. In this case <span class="arithmatex">\(210\ \%\ 11\)</span> is 1, so the phone number 436-555-4601 hashes to slot 1. Some folding methods go one step further and reverse every other piece before the addition. For the above example, we get <span class="arithmatex">\(43 + 56 + 55 + 64 + 01 = 219\)</span> which gives <span class="arithmatex">\(219\ \%\ 11 = 10\)</span>.</p>
<p>Another numerical technique for constructing a hash function is called the <strong>mid-square method</strong>. We first square the item, and then extract some portion of the resulting digits. For example, if the item were 44, we would first compute <span class="arithmatex">\(44 ^{2} = 1936\)</span>. By extracting the middle two digits, 93, and performing the remainder step, we get 5 (<span class="arithmatex">\(93\ \%\ 11\)</span>). <code>Table 5</code> shows items under both the remainder method and the mid-square method. You should verify that you understand how these values were computed.</p>
<p><strong>Table 5: Comparison of Remainder and Mid-Square Methods</strong></p>
<table>
<thead>
<tr>
<th><strong>Item</strong></th>
<th><strong>Remainder</strong></th>
<th><strong>Mid-Square</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>54</td>
<td>10</td>
<td>3</td>
</tr>
<tr>
<td>26</td>
<td>4</td>
<td>7</td>
</tr>
<tr>
<td>93</td>
<td>5</td>
<td>9</td>
</tr>
<tr>
<td>17</td>
<td>6</td>
<td>8</td>
</tr>
<tr>
<td>77</td>
<td>0</td>
<td>4</td>
</tr>
<tr>
<td>31</td>
<td>9</td>
<td>6</td>
</tr>
</tbody>
</table>
<p>We can also create hash functions for character-based items such as strings. For example, the word <em>cat</em> can be thought of as a sequence of ordinal values.</p>
<div class="language-pycon highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #000080; font-weight: bold">&gt;&gt;&gt; </span><span style="color: #008000">ord</span>(<span style="color: #BA2121">&quot;c&quot;</span>)
<span style="color: #717171">99</span>
<span style="color: #000080; font-weight: bold">&gt;&gt;&gt; </span><span style="color: #008000">ord</span>(<span style="color: #BA2121">&quot;a&quot;</span>)
<span style="color: #717171">97</span>
<span style="color: #000080; font-weight: bold">&gt;&gt;&gt; </span><span style="color: #008000">ord</span>(<span style="color: #BA2121">&quot;t&quot;</span>)
<span style="color: #717171">116</span>
</code></pre></div>
<p>We can then take these three ordinal values, add them up, and use the remainder method to get a hash value (see <code>Figure 6</code>). <code>Listing 1</code> shows a function called <code>hash_str</code> that takes a string and a table size and returns the hash value in the range from 0 to <code>table_size</code>-1.</p>
<p><figure markdown="span">
    <a class="glightbox" href="../imgs/stringhash.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Image title" src="../imgs/stringhash.png" /></a>
    <figcaption markdown="span">Figure 6: Hashing a String Using Ordinal Values</figcaption>
</figure></p>
<div class="language-python highlight" style="background: #f8f8f8"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">**Listing 1**</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">1</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">2</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">hash_str</span>(a_string, table_size):
    <span style="color: #008000; font-weight: bold">return</span> <span style="color: #008000">sum</span>([<span style="color: #008000">ord</span>(c) <span style="color: #008000; font-weight: bold">for</span> c <span style="color: #AA22FF; font-weight: bold">in</span> a_string]) <span style="color: #666666">%</span> table_size
</code></pre></div></td></tr></table></div>
<p>It is interesting to note that when using this hash function, anagrams will always be given the same hash value. To remedy this, we could use the position of the character as a weight. <code>Figure 7</code> shows one possible way to use the positional value as a weighting factor. The modification to the <code>hash_str</code> function is left as an exercise.</p>
<p><figure markdown="span">
    <a class="glightbox" href="../imgs/stringhash2.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Image title" src="../imgs/stringhash2.png" /></a>
    <figcaption markdown="span">Figure 7: Hashing a String Using Ordinal Values with Weighting</figcaption>
</figure></p>
<p>You may be able to think of a number of additional ways to compute hash values for items in a collection. The important thing to remember is that the hash function has to be efficient so that it does not become the dominant part of the storage and search process. If the hash function is too complex, then it becomes more work to compute the slot name than it would be to simply do a basic sequential or binary search as described earlier. This would quickly defeat the purpose of hashing.</p>
</div>
<div class="tabbed-block">
<p>Given a collection of items, a hash function that maps each item into a unique slot is referred to as a <strong>perfect hash function</strong>. If we know the items and the collection will never change, then it is possible to construct a perfect hash function. Unfortunately, given an arbitrary collection of items, there is no systematic way to construct a perfect hash function. Luckily, we do not need the hash function to be perfect to still gain performance efficiency.</p>
<p>One way to always have a perfect hash function is to increase the size of the hash table so that each possible value in the item range can be accommodated. This guarantees that each item will have a unique slot. Although this is practical for small numbers of items, it is not feasible when the number of possible items is large. For example, if the items were nine-digit Social Security numbers, this method would require almost one billion slots. If we only want to store data for a class of 25 students, we will be wasting an enormous amount of memory.</p>
<p>Our goal is to create a hash function that minimizes the number of collisions, is easy to compute, and evenly distributes the items in the hash table. To that end, there are a number of common ways to extend the simple remainder method. We will consider a few of them here.</p>
<p>The <strong>folding method</strong> for constructing hash functions begins by dividing the item into equal-sized pieces (the last piece may not be of equal size). These pieces are then added together to give the resulting hash value. For example, if our item was the phone number 436-555-4601, we would take the digits and divide them into groups of 2 (43, 65, 55, 46, 01). After the addition, <span class="arithmatex">\(43 + 65 + 55 + 46 + 01\)</span>, we get 1.   If we assume our hash table has 11 slots, then we need to perform the extra step of dividing by 11 and keeping the remainder. In this case <span class="arithmatex">\(210\ \%\ 11\)</span> is 1, so the phone number 436-555-4601 hashes to slot 1. Some folding methods go one step further and reverse every other piece before the addition. For the above example, we get <span class="arithmatex">\(43 + 56 + 55 + 64 + 01 = 219\)</span> which gives <span class="arithmatex">\(219\ \%\ 11 = 10\)</span>.</p>
<p>Another numerical technique for constructing a hash function is called the <strong>mid-square method</strong>. We first square the item, and then extract some portion of the resulting digits. For example, if the item were 44, we would first compute <span class="arithmatex">\(44 ^{2} = 1936\)</span>. By extracting the middle two digits, 93, and performing the remainder step, we get 5 (<span class="arithmatex">\(93\ \%\ 11\)</span>). <code>Table 5</code> shows items under both the remainder method and the mid-square method. You should verify that you understand how these values were computed.</p>
<p><strong>Table 5: Comparison of Remainder and Mid-Square Methods</strong></p>
<table>
<thead>
<tr>
<th><strong>Item</strong></th>
<th><strong>Remainder</strong></th>
<th><strong>Mid-Square</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>54</td>
<td>10</td>
<td>3</td>
</tr>
<tr>
<td>26</td>
<td>4</td>
<td>7</td>
</tr>
<tr>
<td>93</td>
<td>5</td>
<td>9</td>
</tr>
<tr>
<td>17</td>
<td>6</td>
<td>8</td>
</tr>
<tr>
<td>77</td>
<td>0</td>
<td>4</td>
</tr>
<tr>
<td>31</td>
<td>9</td>
<td>6</td>
</tr>
</tbody>
</table>
<p>We can also create hash functions for character-based items such as strings. For example, the word <em>cat</em> can be thought of as a sequence of ordinal values.</p>
<div class="language-pycon highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #000080; font-weight: bold">&gt;&gt;&gt; </span><span style="color: #008000">ord</span>(<span style="color: #BA2121">&quot;c&quot;</span>)
<span style="color: #717171">99</span>
<span style="color: #000080; font-weight: bold">&gt;&gt;&gt; </span><span style="color: #008000">ord</span>(<span style="color: #BA2121">&quot;a&quot;</span>)
<span style="color: #717171">97</span>
<span style="color: #000080; font-weight: bold">&gt;&gt;&gt; </span><span style="color: #008000">ord</span>(<span style="color: #BA2121">&quot;t&quot;</span>)
<span style="color: #717171">116</span>
</code></pre></div>
<p>We can then take these three ordinal values, add them up, and use the remainder method to get a hash value (see <code>Figure 6</code>). <code>Listing 1</code> shows a function called <code>hash_str</code> that takes a string and a table size and returns the hash value in the range from 0 to <code>table_size</code>-1.</p>
<p><figure markdown="span">
    <a class="glightbox" href="../imgs/stringhash.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Image title" src="../imgs/stringhash.png" /></a>
    <figcaption markdown="span">Figure 6: Hashing a String Using Ordinal Values</figcaption>
</figure></p>
<div class="language-python highlight" style="background: #f8f8f8"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">**Listing 1**</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">1</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">2</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">hash_str</span>(a_string, table_size):
    <span style="color: #008000; font-weight: bold">return</span> <span style="color: #008000">sum</span>([<span style="color: #008000">ord</span>(c) <span style="color: #008000; font-weight: bold">for</span> c <span style="color: #AA22FF; font-weight: bold">in</span> a_string]) <span style="color: #666666">%</span> table_size
</code></pre></div></td></tr></table></div>
<p>It is interesting to note that when using this hash function, anagrams will always be given the same hash value. To remedy this, we could use the position of the character as a weight. <code>Figure 7</code> shows one possible way to use the positional value as a weighting factor. The modification to the <code>hash_str</code> function is left as an exercise.</p>
<p><figure markdown="span">
    <a class="glightbox" href="../imgs/stringhash2.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Image title" src="../imgs/stringhash2.png" /></a>
    <figcaption markdown="span">Figure 7: Hashing a String Using Ordinal Values with Weighting</figcaption>
</figure></p>
<p>You may be able to think of a number of additional ways to compute hash values for items in a collection. The important thing to remember is that the hash function has to be efficient so that it does not become the dominant part of the storage and search process. If the hash function is too complex, then it becomes more work to compute the slot name than it would be to simply do a basic sequential or binary search as described earlier. This would quickly defeat the purpose of hashing.</p>
</div>
</div>
</div>
<h2 id="552-碰撞解决">5.5.2. 碰撞解决<a class="headerlink" href="#552-碰撞解决" title="Permanent link">&para;</a></h2>
<p><strong>5.5.2. Collision Resolution</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:2"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">中文</label><label for="__tabbed_3_2">英文</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>We now return to the problem of collisions. When two items hash to the same slot, we must have a systematic method for placing the second item in the hash table. This process is called <strong>collision resolution</strong>. As we stated earlier, if the hash function is perfect, collisions will never occur. However, since this is often not possible, collision resolution becomes a very important part of hashing.</p>
<p>One method for resolving collisions looks into the hash table and tries to find another open slot to hold the item that caused the collision. A simple way to do this is to start at the original hash value position and then move in a sequential manner through the slots until we encounter the first slot that is empty. Note that we may need to go back to the first slot (circularly) to cover the entire hash table. This collision resolution process is referred to as <strong>open addressing</strong> in that it tries to find the next open slot or address in the hash table. By systematically visiting each slot one at a time, we are performing an open addressing technique called <strong>linear probing</strong>.</p>
<p><code>Figure 8</code> shows an extended set of integer items under the simple remainder method hash function (54, 26, 93, 17, 77, 31, 44, 55, 20). <code>Table 4</code> above shows the hash values for the original six items and <code>Figure 5</code> shows the contents of a hash table with those six items. Let's see what happens when we attempt to place the additional three items into the table. When we attempt to place 44 into slot 0, a collision occurs. Under linear probing, we look sequentially, slot by slot, until we find an open position. In this case, we find slot 1.</p>
<p>Again, 55 should go in slot 0 but must be placed in slot 2 since it is the next open position. The final value of 20 hashes to slot 9. Since slot 9 is full, we begin to do linear probing. We visit slots 10, 0, 1, and 2, and finally find an empty slot at position 3.</p>
<p><figure markdown="span">
    <a class="glightbox" href="../imgs/linearprobing1.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Image title" src="../imgs/linearprobing1.png" /></a>
    <figcaption markdown="span">Figure 8: Collision Resolution with Linear Probing</figcaption>
</figure></p>
<p>Once we have built a hash table using open addressing and linear probing, it is essential that we utilize the same methods to search for items. Assume we want to look up the item 93. When we compute the hash value, we get 5. Looking in slot 5 reveals 93, and we can return <code>True</code>. What if we are looking for 20? Now the hash value is 9, and slot 9 is currently holding 31. We cannot simply return <code>False</code> since we know that there could have been collisions. We are now forced to do a sequential search, starting at position 10, looking until either we find the item 20 or we find an empty slot.</p>
<p>A disadvantage to linear probing is the tendency for <strong>clustering</strong>; items become clustered in the table. This means that if many collisions occur at the same hash value, a number of surrounding slots will be filled by the linear probing resolution. This will have an impact on other items that are being inserted, as we saw when we tried to add the item 20 above. A cluster of values hashing to 0 had to be skipped to finally find an open position. This cluster is shown in <code>Figure 9</code>.</p>
<p><figure markdown="span">
    <a class="glightbox" href="../imgs/clustering.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Image title" src="../imgs/clustering.png" /></a>
    <figcaption markdown="span">Figure 9: A Cluster of Items for Slot 0</figcaption>
</figure></p>
<p>One way to deal with clustering is to extend the linear probing technique so that instead of looking sequentially for the next open slot, we skip slots, thereby more evenly distributing the items that have caused collisions. This will potentially reduce the clustering that occurs. <code>Figure 10</code> shows the items when collision resolution is done with what we will call a “plus 3” probe. This means that once a collision occurs, we will look at every third slot until we find one that is empty.</p>
<p><figure markdown="span">
    <a class="glightbox" href="../imgs/linearprobing2.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Image title" src="../imgs/linearprobing2.png" /></a>
    <figcaption markdown="span">Figure 10: Collision Resolution Using a Plus 3 Probe</figcaption>
</figure></p>
<p>The general name for this process of looking for another slot after a collision is <strong>rehashing</strong>. With simple linear probing, the rehash function is <span class="arithmatex">\(new\_hash = rehash(old\_hash)\)</span> where <span class="arithmatex">\(rehash(pos) = (pos + 1) \% size\)</span>. The plus 3 rehash can be defined as <span class="arithmatex">\(rehash(pos) = (pos + 3) \% size\)</span>. In general, <span class="arithmatex">\(rehash(pos) = (pos + skip) \% size\)</span>. It is important to note that the size of the skip must be such that all the slots in the table will eventually be visited. Otherwise, part of the table will be unused. To ensure this, it is often suggested that the table size be a prime number. This is the reason we have been using 11 in our examples.</p>
<p>A variation of the linear probing idea is called <strong>quadratic probing</strong>. Instead of using a constant skip value, we use a rehash function that increments the hash value by 1, 3, 5, 7, 9, and so on. This means that if the first hash value is <span class="arithmatex">\(h\)</span>, the successive values are <span class="arithmatex">\(h + 1\)</span>, <span class="arithmatex">\(h + 4\)</span>, <span class="arithmatex">\(h + 9\)</span>, <span class="arithmatex">\(h + 16\)</span>, and so on. In general, the <span class="arithmatex">\(i\)</span> will be <span class="arithmatex">\(i ^ {2}\)</span> and <span class="arithmatex">\(rehash(pos) = (h + i ^ {2}) \% size\)</span>. In other words, quadratic probing uses a skip consisting of successive perfect squares. <code>Figure 11</code> shows our example values after they are placed using this technique.</p>
<p><figure markdown="span">
    <a class="glightbox" href="../imgs/quadratic.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Image title" src="../imgs/quadratic.png" /></a>
    <figcaption markdown="span">Figure 11: Collision Resolution with Quadratic Probing</figcaption>
</figure></p>
<p>An alternative method for handling the collision problem is to allow each slot to hold a reference to a collection (or chain) of items. <strong>Chaining</strong> allows many items to exist at the same location in the hash table. When collisions happen, the item is still placed in the proper slot of the hash table. As more and more items hash to the same location, the difficulty of searching for the item in the collection increases. <code>Figure 12</code> shows the items as they are added to a hash table that uses chaining to resolve collisions.</p>
<p><figure markdown="span">
    <a class="glightbox" href="../imgs/chaining.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Image title" src="../imgs/chaining.png" /></a>
    <figcaption markdown="span">Figure 12: Collision Resolution with Chaining</figcaption>
</figure></p>
<p>When we want to search for an item, we use the hash function to generate the slot where it should reside. Since with chaining each slot holds a collection, we use a searching technique to decide whether the item is present. The advantage is that on the average there are likely to be many fewer items in each slot, so the search is perhaps more efficient. We will look at the analysis for hashing at the end of this section.</p>
<div class="admonition info">
<p class="admonition-title">Self Check</p>
<div class="tabbed-set tabbed-alternate" data-tabs="4:2"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1">HASH_1</label><label for="__tabbed_4_2">HASH_2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>In a hash table of size 13 which index positions would the following two keys map to?  27,  130</p>
<ul>
<li>answer a: 1, 10</li>
<li>answer b: 13, 0</li>
<li>answer c: 1, 0</li>
<li>answer d: 2, 3</li>
</ul>
<p>correct: c</p>
<ul>
<li>feedback a:  Be careful to use modulo not integer division</li>
<li>feedback b:  Don't divide by two, use the modulo operator.</li>
<li>feedback c: 27 % 13 == 1 and 130 % 13 == 0</li>
<li>feedback d: Use the modulo operator</li>
</ul>
</div>
<div class="tabbed-block">
<p>Suppose you are given the following set of keys to insert into a hash table that holds exactly 11 values:  113 , 117 , 97 , 100 , 114 , 108 , 116 , 105 , 99 Which of the following best demonstrates the contents of the hash table after all the keys have been inserted using linear probing?</p>
<ul>
<li>answer a: 100, <strong>, </strong>, 113, 114, 105, 116, 117, 97, 108, 99</li>
<li>answer b: 99, 100, <strong>, 113, 114, </strong>, 116, 117, 105, 97, 108</li>
<li>answer c: 100, 113, 117, 97, 14, 108, 116, 105, 99, <strong>, </strong></li>
<li>answer d: 117, 114, 108, 116, 105, 99, <strong>, </strong>, 97, 100, 113</li>
</ul>
<p>correct: b</p>
<ul>
<li>feedback a:  It looks like you may have been doing modulo 2 arithmentic.  You need to use the hash table size as the modulo value.</li>
<li>feedback b:  Using modulo 11 arithmetic and linear probing gives these values</li>
<li>feedback c: It looks like you are using modulo 10 arithmetic, use the table size.</li>
<li>feedback d: Be careful to use modulo not integer division.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="tabbed-block">
<p>We now return to the problem of collisions. When two items hash to the same slot, we must have a systematic method for placing the second item in the hash table. This process is called <strong>collision resolution</strong>. As we stated earlier, if the hash function is perfect, collisions will never occur. However, since this is often not possible, collision resolution becomes a very important part of hashing.</p>
<p>One method for resolving collisions looks into the hash table and tries to find another open slot to hold the item that caused the collision. A simple way to do this is to start at the original hash value position and then move in a sequential manner through the slots until we encounter the first slot that is empty. Note that we may need to go back to the first slot (circularly) to cover the entire hash table. This collision resolution process is referred to as <strong>open addressing</strong> in that it tries to find the next open slot or address in the hash table. By systematically visiting each slot one at a time, we are performing an open addressing technique called <strong>linear probing</strong>.</p>
<p><code>Figure 8</code> shows an extended set of integer items under the simple remainder method hash function (54, 26, 93, 17, 77, 31, 44, 55, 20). <code>Table 4</code> above shows the hash values for the original six items and <code>Figure 5</code> shows the contents of a hash table with those six items. Let's see what happens when we attempt to place the additional three items into the table. When we attempt to place 44 into slot 0, a collision occurs. Under linear probing, we look sequentially, slot by slot, until we find an open position. In this case, we find slot 1.</p>
<p>Again, 55 should go in slot 0 but must be placed in slot 2 since it is the next open position. The final value of 20 hashes to slot 9. Since slot 9 is full, we begin to do linear probing. We visit slots 10, 0, 1, and 2, and finally find an empty slot at position 3.</p>
<p><figure markdown="span">
    <a class="glightbox" href="../imgs/linearprobing1.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Image title" src="../imgs/linearprobing1.png" /></a>
    <figcaption markdown="span">Figure 8: Collision Resolution with Linear Probing</figcaption>
</figure></p>
<p>Once we have built a hash table using open addressing and linear probing, it is essential that we utilize the same methods to search for items. Assume we want to look up the item 93. When we compute the hash value, we get 5. Looking in slot 5 reveals 93, and we can return <code>True</code>. What if we are looking for 20? Now the hash value is 9, and slot 9 is currently holding 31. We cannot simply return <code>False</code> since we know that there could have been collisions. We are now forced to do a sequential search, starting at position 10, looking until either we find the item 20 or we find an empty slot.</p>
<p>A disadvantage to linear probing is the tendency for <strong>clustering</strong>; items become clustered in the table. This means that if many collisions occur at the same hash value, a number of surrounding slots will be filled by the linear probing resolution. This will have an impact on other items that are being inserted, as we saw when we tried to add the item 20 above. A cluster of values hashing to 0 had to be skipped to finally find an open position. This cluster is shown in <code>Figure 9</code>.</p>
<p><figure markdown="span">
    <a class="glightbox" href="../imgs/clustering.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Image title" src="../imgs/clustering.png" /></a>
    <figcaption markdown="span">Figure 9: A Cluster of Items for Slot 0</figcaption>
</figure></p>
<p>One way to deal with clustering is to extend the linear probing technique so that instead of looking sequentially for the next open slot, we skip slots, thereby more evenly distributing the items that have caused collisions. This will potentially reduce the clustering that occurs. <code>Figure 10</code> shows the items when collision resolution is done with what we will call a “plus 3” probe. This means that once a collision occurs, we will look at every third slot until we find one that is empty.</p>
<p><figure markdown="span">
    <a class="glightbox" href="../imgs/linearprobing2.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Image title" src="../imgs/linearprobing2.png" /></a>
    <figcaption markdown="span">Figure 10: Collision Resolution Using a Plus 3 Probe</figcaption>
</figure></p>
<p>The general name for this process of looking for another slot after a collision is <strong>rehashing</strong>. With simple linear probing, the rehash function is <span class="arithmatex">\(new\_hash = rehash(old\_hash)\)</span> where <span class="arithmatex">\(rehash(pos) = (pos + 1) \% size\)</span>. The plus 3 rehash can be defined as <span class="arithmatex">\(rehash(pos) = (pos + 3) \% size\)</span>. In general, <span class="arithmatex">\(rehash(pos) = (pos + skip) \% size\)</span>. It is important to note that the size of the skip must be such that all the slots in the table will eventually be visited. Otherwise, part of the table will be unused. To ensure this, it is often suggested that the table size be a prime number. This is the reason we have been using 11 in our examples.</p>
<p>A variation of the linear probing idea is called <strong>quadratic probing</strong>. Instead of using a constant skip value, we use a rehash function that increments the hash value by 1, 3, 5, 7, 9, and so on. This means that if the first hash value is <span class="arithmatex">\(h\)</span>, the successive values are <span class="arithmatex">\(h + 1\)</span>, <span class="arithmatex">\(h + 4\)</span>, <span class="arithmatex">\(h + 9\)</span>, <span class="arithmatex">\(h + 16\)</span>, and so on. In general, the <span class="arithmatex">\(i\)</span> will be <span class="arithmatex">\(i ^ {2}\)</span> and <span class="arithmatex">\(rehash(pos) = (h + i ^ {2}) \% size\)</span>. In other words, quadratic probing uses a skip consisting of successive perfect squares. <code>Figure 11</code> shows our example values after they are placed using this technique.</p>
<p><figure markdown="span">
    <a class="glightbox" href="../imgs/quadratic.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Image title" src="../imgs/quadratic.png" /></a>
    <figcaption markdown="span">Figure 11: Collision Resolution with Quadratic Probing</figcaption>
</figure></p>
<p>An alternative method for handling the collision problem is to allow each slot to hold a reference to a collection (or chain) of items. <strong>Chaining</strong> allows many items to exist at the same location in the hash table. When collisions happen, the item is still placed in the proper slot of the hash table. As more and more items hash to the same location, the difficulty of searching for the item in the collection increases. <code>Figure 12</code> shows the items as they are added to a hash table that uses chaining to resolve collisions.</p>
<p><figure markdown="span">
    <a class="glightbox" href="../imgs/chaining.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Image title" src="../imgs/chaining.png" /></a>
    <figcaption markdown="span">Figure 12: Collision Resolution with Chaining</figcaption>
</figure></p>
<p>When we want to search for an item, we use the hash function to generate the slot where it should reside. Since with chaining each slot holds a collection, we use a searching technique to decide whether the item is present. The advantage is that on the average there are likely to be many fewer items in each slot, so the search is perhaps more efficient. We will look at the analysis for hashing at the end of this section.</p>
<div class="admonition info">
<p class="admonition-title">Self Check</p>
<div class="tabbed-set tabbed-alternate" data-tabs="5:2"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio" /><input id="__tabbed_5_2" name="__tabbed_5" type="radio" /><div class="tabbed-labels"><label for="__tabbed_5_1">HASH_1</label><label for="__tabbed_5_2">HASH_2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>In a hash table of size 13 which index positions would the following two keys map to?  27,  130</p>
<ul>
<li>answer a: 1, 10</li>
<li>answer b: 13, 0</li>
<li>answer c: 1, 0</li>
<li>answer d: 2, 3</li>
</ul>
<p>correct: c</p>
<ul>
<li>feedback a:  Be careful to use modulo not integer division</li>
<li>feedback b:  Don't divide by two, use the modulo operator.</li>
<li>feedback c: 27 % 13 == 1 and 130 % 13 == 0</li>
<li>feedback d: Use the modulo operator</li>
</ul>
</div>
<div class="tabbed-block">
<p>Suppose you are given the following set of keys to insert into a hash table that holds exactly 11 values:  113 , 117 , 97 , 100 , 114 , 108 , 116 , 105 , 99 Which of the following best demonstrates the contents of the hash table after all the keys have been inserted using linear probing?</p>
<ul>
<li>answer a: 100, <strong>, </strong>, 113, 114, 105, 116, 117, 97, 108, 99</li>
<li>answer b: 99, 100, <strong>, 113, 114, </strong>, 116, 117, 105, 97, 108</li>
<li>answer c: 100, 113, 117, 97, 14, 108, 116, 105, 99, <strong>, </strong></li>
<li>answer d: 117, 114, 108, 116, 105, 99, <strong>, </strong>, 97, 100, 113</li>
</ul>
<p>correct: b</p>
<ul>
<li>feedback a:  It looks like you may have been doing modulo 2 arithmentic.  You need to use the hash table size as the modulo value.</li>
<li>feedback b:  Using modulo 11 arithmetic and linear probing gives these values</li>
<li>feedback c: It looks like you are using modulo 10 arithmetic, use the table size.</li>
<li>feedback d: Be careful to use modulo not integer division.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<h2 id="553-实现map抽象数据类型">5.5.3. 实现Map抽象数据类型<a class="headerlink" href="#553-实现map抽象数据类型" title="Permanent link">&para;</a></h2>
<p><strong>5.5.3. Implementing the Map Abstract Data Type</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="6:2"><input checked="checked" id="__tabbed_6_1" name="__tabbed_6" type="radio" /><input id="__tabbed_6_2" name="__tabbed_6" type="radio" /><div class="tabbed-labels"><label for="__tabbed_6_1">中文</label><label for="__tabbed_6_2">英文</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>One of the most useful Python collections is the dictionary. Recall that a dictionary is an associative data type where you can store key-data pairs. The key is used to look up the associated data value. We often refer to this idea as a <strong>map</strong>.</p>
<p>The map abstract data type is defined as follows. The structure is an unordered collection of associations between a key and a data value. The keys in a map are all unique so that there is a one-to-one relationship between a key and a value. The operations are given below.</p>
<ul>
<li><code>Map()</code> creates a new empty map.</li>
<li><code>put(key, val)</code> adds a new key--value pair to the map. If the key is already in the map, it replaces the old value with the new value.</li>
<li><code>get(key)</code> takes a key and returns the matching value stored in the map or <code>None</code> otherwise.</li>
<li><code>del</code> deletes the key--value pair from the map using a statement of the form <code>del map[key]</code>.</li>
<li><code>size()</code> returns the number of key--value pairs stored in the map.</li>
<li><code>in</code> return <code>True</code> for a statement of the form <code>key in map</code> if the given key is in the map, <code>False</code> otherwise.</li>
</ul>
<p>One of the great benefits of a dictionary is the fact that given a key, we can look up the associated data value very quickly. In order to provide this fast look-up capability, we need an implementation that supports an efficient search. We could use a list with sequential or binary search, but it would be even better to use a hash table as described above since looking up an item in a hash table can approach $O(1)` performance.</p>
<p>In <code>Listing 2</code> we use two lists to create a <code>HashTable</code> class that implements the map abstract data type. One list, called <code>slots</code>, will hold the key items and a parallel list, called <code>data</code>, will hold the data values. When we look up a key, the corresponding position in the data list will hold the associated data value. We will treat the key list as a hash table using the ideas presented earlier. Note that the initial size for the hash table has been chosen to be 11. Although this is arbitrary, it is important that the size be a prime number so that the collision resolution algorithm can be as efficient as possible.</p>
<div class="language-python highlight" style="background: #f8f8f8"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">**Listing 2**</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">1</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">2</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">3</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">4</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">5</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008000; font-weight: bold">class</span> <span style="color: #0000FF; font-weight: bold">HashTable</span>:
    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">__init__</span>(<span style="color: #008000">self</span>):
        <span style="color: #008000">self</span><span style="color: #666666">.</span>size <span style="color: #666666">=</span> <span style="color: #666666">11</span>
        <span style="color: #008000">self</span><span style="color: #666666">.</span>slots <span style="color: #666666">=</span> [<span style="color: #008000; font-weight: bold">None</span>] <span style="color: #666666">*</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>size
        <span style="color: #008000">self</span><span style="color: #666666">.</span>data <span style="color: #666666">=</span> [<span style="color: #008000; font-weight: bold">None</span>] <span style="color: #666666">*</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>size
</code></pre></div></td></tr></table></div>
<p>As seen in <code>Listing 3</code>, <code>hash_function</code> implements the simple remainder method. The collision resolution technique is linear probing with a “plus 1” rehash value. The <code>put</code> function (see <code>Listing 3</code>) assumes that there will eventually be an empty slot unless the key is already present in the <code>self.slots</code>. It computes the original hash value and if that slot is not empty, iterates the <code>rehash</code> function until an empty slot occurs. If a nonempty slot already contains the key, the old data value is replaced with the new data value.</p>
<div class="language-python highlight" style="background: #f8f8f8"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">**Listing 3**</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 1</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 2</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 3</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 4</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 5</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 6</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 7</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 8</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 9</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">10</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">11</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">12</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">13</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">14</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">15</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">16</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">17</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">18</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">19</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">20</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">21</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">22</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">23</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">24</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">25</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">26</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">27</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">28</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">put</span>(<span style="color: #008000">self</span>, key, data):
    hash_value <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>hash_function(key, <span style="color: #008000">len</span>(<span style="color: #008000">self</span><span style="color: #666666">.</span>slots))

    <span style="color: #008000; font-weight: bold">if</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>slots[hash_value] <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #008000; font-weight: bold">None</span>:
        <span style="color: #008000">self</span><span style="color: #666666">.</span>slots[hash_value] <span style="color: #666666">=</span> key
        <span style="color: #008000">self</span><span style="color: #666666">.</span>data[hash_value] <span style="color: #666666">=</span> data
    <span style="color: #008000; font-weight: bold">else</span>:
        <span style="color: #008000; font-weight: bold">if</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>slots[hash_value] <span style="color: #666666">==</span> key:
            <span style="color: #008000">self</span><span style="color: #666666">.</span>data[hash_value] <span style="color: #666666">=</span> data  <span style="color: #3D7B7B; font-style: italic"># replace</span>
        <span style="color: #008000; font-weight: bold">else</span>:
            next_slot <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>rehash(hash_value, <span style="color: #008000">len</span>(<span style="color: #008000">self</span><span style="color: #666666">.</span>slots))
            <span style="color: #008000; font-weight: bold">while</span> (
                <span style="color: #008000">self</span><span style="color: #666666">.</span>slots[next_slot] <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #AA22FF; font-weight: bold">not</span> <span style="color: #008000; font-weight: bold">None</span>
                <span style="color: #AA22FF; font-weight: bold">and</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>slots[next_slot] <span style="color: #666666">!=</span> key
            ):
                next_slot <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>rehash(next_slot, <span style="color: #008000">len</span>(<span style="color: #008000">self</span><span style="color: #666666">.</span>slots))

            <span style="color: #008000; font-weight: bold">if</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>slots[next_slot] <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #008000; font-weight: bold">None</span>:
                <span style="color: #008000">self</span><span style="color: #666666">.</span>slots[next_slot] <span style="color: #666666">=</span> key
                <span style="color: #008000">self</span><span style="color: #666666">.</span>data[next_slot] <span style="color: #666666">=</span> data
            <span style="color: #008000; font-weight: bold">else</span>:
                <span style="color: #008000">self</span><span style="color: #666666">.</span>data[next_slot] <span style="color: #666666">=</span> data

<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">hash_function</span>(<span style="color: #008000">self</span>, key, size):
    <span style="color: #008000; font-weight: bold">return</span> key <span style="color: #666666">%</span> size

<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">rehash</span>(<span style="color: #008000">self</span>, old_hash, size):
    <span style="color: #008000; font-weight: bold">return</span> (old_hash <span style="color: #666666">+</span> <span style="color: #666666">1</span>) <span style="color: #666666">%</span> size
</code></pre></div></td></tr></table></div>
<p>The <code>get</code> function (see <code>Listing 4</code>) begins by computing the initial hash value. If the value is not in the initial slot, <code>rehash</code> is used to locate the next possible position. Notice that line 14 guarantees that the search will terminate by checking to make sure that we have not returned to the initial slot. If that happens, we have exhausted all possible slots and the item must not be present.</p>
<p>The final methods of the <code>HashTable</code> class provide additional dictionary functionality. We overload the <code>__getitem__</code> and <code>__setitem__</code> methods to allow access using <code>[]</code>. This means that once a <code>HashTable</code> has been created, the familiar index operator will be available. We leave the remaining methods as exercises.</p>
<div class="language-python highlight" style="background: #f8f8f8"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">**Listing 4**</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 1</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 2</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 3</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 4</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 5</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 6</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 7</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 8</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 9</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">10</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">11</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">12</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">13</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">14</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">15</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">16</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">17</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">get</span>(<span style="color: #008000">self</span>, key):
    start_slot <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>hash_function(key, <span style="color: #008000">len</span>(<span style="color: #008000">self</span><span style="color: #666666">.</span>slots))

    position <span style="color: #666666">=</span> start_slot
    <span style="color: #008000; font-weight: bold">while</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>slots[position] <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #AA22FF; font-weight: bold">not</span> <span style="color: #008000; font-weight: bold">None</span>:
        <span style="color: #008000; font-weight: bold">if</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>slots[position] <span style="color: #666666">==</span> key:
            <span style="color: #008000; font-weight: bold">return</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>data[position]
        <span style="color: #008000; font-weight: bold">else</span>:
            position <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>rehash(position, <span style="color: #008000">len</span>(<span style="color: #008000">self</span><span style="color: #666666">.</span>slots))
            <span style="color: #008000; font-weight: bold">if</span> position <span style="color: #666666">==</span> start_slot:
                <span style="color: #008000; font-weight: bold">return</span> <span style="color: #008000; font-weight: bold">None</span>

<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">__getitem__</span>(<span style="color: #008000">self</span>, key):
    <span style="color: #008000; font-weight: bold">return</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>get(key)

<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">__setitem__</span>(<span style="color: #008000">self</span>, key, data):
    <span style="color: #008000">self</span><span style="color: #666666">.</span>put(key, data)
</code></pre></div></td></tr></table></div>
<p>The following session shows the <code>HashTable</code> class in action. First we will create a hash table and store some items with integer keys and string data values.</p>
<div class="language-pycon highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #000080; font-weight: bold">&gt;&gt;&gt; </span>h <span style="color: #666666">=</span> HashTable()
<span style="color: #000080; font-weight: bold">&gt;&gt;&gt; </span>h[<span style="color: #666666">54</span>] <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;cat&quot;</span>
<span style="color: #000080; font-weight: bold">&gt;&gt;&gt; </span>h[<span style="color: #666666">26</span>] <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;dog&quot;</span>
<span style="color: #000080; font-weight: bold">&gt;&gt;&gt; </span>h[<span style="color: #666666">93</span>] <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;lion&quot;</span>
<span style="color: #000080; font-weight: bold">&gt;&gt;&gt; </span>h[<span style="color: #666666">17</span>] <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;tiger&quot;</span>
<span style="color: #000080; font-weight: bold">&gt;&gt;&gt; </span>h[<span style="color: #666666">77</span>] <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;bird&quot;</span>
<span style="color: #000080; font-weight: bold">&gt;&gt;&gt; </span>h[<span style="color: #666666">31</span>] <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;cow&quot;</span>
<span style="color: #000080; font-weight: bold">&gt;&gt;&gt; </span>h[<span style="color: #666666">44</span>] <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;goat&quot;</span>
<span style="color: #000080; font-weight: bold">&gt;&gt;&gt; </span>h[<span style="color: #666666">55</span>] <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;pig&quot;</span>
<span style="color: #000080; font-weight: bold">&gt;&gt;&gt; </span>h[<span style="color: #666666">20</span>] <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;chicken&quot;</span>
<span style="color: #000080; font-weight: bold">&gt;&gt;&gt; </span>h<span style="color: #666666">.</span>slots
<span style="color: #717171">[77, 44, 55, 20, 26, 93, 17, None, None, 31, 54]</span>
<span style="color: #000080; font-weight: bold">&gt;&gt;&gt; </span>h<span style="color: #666666">.</span>data
<span style="color: #717171">[&#39;bird&#39;, &#39;goat&#39;, &#39;pig&#39;, &#39;chicken&#39;, &#39;dog&#39;, &#39;lion&#39;,</span>
<span style="color: #717171">        &#39;tiger&#39;, None, None, &#39;cow&#39;, &#39;cat&#39;]</span>
</code></pre></div>
<p>Next we will access and modify some items in the hash table. Note that the value for the key 20 is being replaced.</p>
<div class="language-pycon highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #000080; font-weight: bold">&gt;&gt;&gt; </span>h[<span style="color: #666666">20</span>]
<span style="color: #717171">&#39;chicken&#39;</span>
<span style="color: #000080; font-weight: bold">&gt;&gt;&gt; </span>h[<span style="color: #666666">17</span>]
<span style="color: #717171">&#39;tiger&#39;</span>
<span style="color: #000080; font-weight: bold">&gt;&gt;&gt; </span>h[<span style="color: #666666">20</span>] <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;duck&quot;</span>
<span style="color: #000080; font-weight: bold">&gt;&gt;&gt; </span>h[<span style="color: #666666">20</span>]
<span style="color: #717171">&#39;duck&#39;</span>
<span style="color: #000080; font-weight: bold">&gt;&gt;&gt; </span>h<span style="color: #666666">.</span>data
<span style="color: #717171">[&#39;bird&#39;, &#39;goat&#39;, &#39;pig&#39;, &#39;duck&#39;, &#39;dog&#39;, &#39;lion&#39;,</span>
<span style="color: #717171">        &#39;tiger&#39;, None, None, &#39;cow&#39;, &#39;cat&#39;]</span>
<span style="color: #717171">&gt;&gt; print(h[99])</span>
<span style="color: #717171">None</span>
</code></pre></div>
<p>The complete hash table example can be found in ActiveCode 1.</p>
<div class="language-python highlight" style="background: #f8f8f8"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Activity: 5.5.3.1 Complete Hash Table Example</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 1</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 2</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 3</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 4</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 5</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 6</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 7</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 8</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 9</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">10</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">11</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">12</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">13</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">14</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">15</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">16</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">17</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">18</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">19</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">20</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">21</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">22</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">23</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">24</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">25</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">26</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">27</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">28</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">29</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">30</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">31</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">32</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">33</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">34</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">35</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">36</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">37</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">38</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">39</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">40</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">41</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">42</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">43</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">44</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">45</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">46</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">47</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">48</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">49</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">50</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">51</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">52</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">53</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">54</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">55</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">56</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">57</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">58</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">59</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">60</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">61</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">62</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">63</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">64</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">65</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">66</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">67</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">68</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">69</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">70</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008000; font-weight: bold">class</span> <span style="color: #0000FF; font-weight: bold">HashTable</span>:
    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">__init__</span>(<span style="color: #008000">self</span>):
        <span style="color: #008000">self</span><span style="color: #666666">.</span>size <span style="color: #666666">=</span> <span style="color: #666666">11</span>
        <span style="color: #008000">self</span><span style="color: #666666">.</span>slots <span style="color: #666666">=</span> [<span style="color: #008000; font-weight: bold">None</span>] <span style="color: #666666">*</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>size
        <span style="color: #008000">self</span><span style="color: #666666">.</span>data <span style="color: #666666">=</span> [<span style="color: #008000; font-weight: bold">None</span>] <span style="color: #666666">*</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>size

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">put</span>(<span style="color: #008000">self</span>, key, data):
        hash_value <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>hash_function(key, <span style="color: #008000">len</span>(<span style="color: #008000">self</span><span style="color: #666666">.</span>slots))

        <span style="color: #008000; font-weight: bold">if</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>slots[hash_value] <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #008000; font-weight: bold">None</span>:
            <span style="color: #008000">self</span><span style="color: #666666">.</span>slots[hash_value] <span style="color: #666666">=</span> key
            <span style="color: #008000">self</span><span style="color: #666666">.</span>data[hash_value] <span style="color: #666666">=</span> data
        <span style="color: #008000; font-weight: bold">else</span>:
            <span style="color: #008000; font-weight: bold">if</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>slots[hash_value] <span style="color: #666666">==</span> key:
                <span style="color: #008000">self</span><span style="color: #666666">.</span>data[hash_value] <span style="color: #666666">=</span> data  <span style="color: #3D7B7B; font-style: italic"># replace</span>
            <span style="color: #008000; font-weight: bold">else</span>:
                next_slot <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>rehash(hash_value, <span style="color: #008000">len</span>(<span style="color: #008000">self</span><span style="color: #666666">.</span>slots))
                <span style="color: #008000; font-weight: bold">while</span> (
                    <span style="color: #008000">self</span><span style="color: #666666">.</span>slots[next_slot] <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #AA22FF; font-weight: bold">not</span> <span style="color: #008000; font-weight: bold">None</span>
                    <span style="color: #AA22FF; font-weight: bold">and</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>slots[next_slot] <span style="color: #666666">!=</span> key
                ):
                    next_slot <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>rehash(next_slot, <span style="color: #008000">len</span>(<span style="color: #008000">self</span><span style="color: #666666">.</span>slots))

                <span style="color: #008000; font-weight: bold">if</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>slots[next_slot] <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #008000; font-weight: bold">None</span>:
                    <span style="color: #008000">self</span><span style="color: #666666">.</span>slots[next_slot] <span style="color: #666666">=</span> key
                    <span style="color: #008000">self</span><span style="color: #666666">.</span>data[next_slot] <span style="color: #666666">=</span> data
                <span style="color: #008000; font-weight: bold">else</span>:
                    <span style="color: #008000">self</span><span style="color: #666666">.</span>data[next_slot] <span style="color: #666666">=</span> data

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">hash_function</span>(<span style="color: #008000">self</span>, key, size):
        <span style="color: #008000; font-weight: bold">return</span> key <span style="color: #666666">%</span> size

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">rehash</span>(<span style="color: #008000">self</span>, old_hash, size):
        <span style="color: #008000; font-weight: bold">return</span> (old_hash <span style="color: #666666">+</span> <span style="color: #666666">1</span>) <span style="color: #666666">%</span> size

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">get</span>(<span style="color: #008000">self</span>, key):
        start_slot <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>hash_function(key, <span style="color: #008000">len</span>(<span style="color: #008000">self</span><span style="color: #666666">.</span>slots))

        position <span style="color: #666666">=</span> start_slot
        <span style="color: #008000; font-weight: bold">while</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>slots[position] <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #AA22FF; font-weight: bold">not</span> <span style="color: #008000; font-weight: bold">None</span>:
            <span style="color: #008000; font-weight: bold">if</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>slots[position] <span style="color: #666666">==</span> key:
                <span style="color: #008000; font-weight: bold">return</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>data[position]
            <span style="color: #008000; font-weight: bold">else</span>:
                position <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>rehash(position, <span style="color: #008000">len</span>(<span style="color: #008000">self</span><span style="color: #666666">.</span>slots))
                <span style="color: #008000; font-weight: bold">if</span> position <span style="color: #666666">==</span> start_slot:
                    <span style="color: #008000; font-weight: bold">return</span> <span style="color: #008000; font-weight: bold">None</span>

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">__getitem__</span>(<span style="color: #008000">self</span>, key):
        <span style="color: #008000; font-weight: bold">return</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>get(key)

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">__setitem__</span>(<span style="color: #008000">self</span>, key, data):
        <span style="color: #008000">self</span><span style="color: #666666">.</span>put(key, data)

h <span style="color: #666666">=</span> HashTable()
h[<span style="color: #666666">54</span>] <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;cat&quot;</span>
h[<span style="color: #666666">26</span>] <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;dog&quot;</span>
h[<span style="color: #666666">93</span>] <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;lion&quot;</span>
h[<span style="color: #666666">17</span>] <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;tiger&quot;</span>
h[<span style="color: #666666">77</span>] <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;bird&quot;</span>
h[<span style="color: #666666">31</span>] <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;cow&quot;</span>
h[<span style="color: #666666">44</span>] <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;goat&quot;</span>
h[<span style="color: #666666">55</span>] <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;pig&quot;</span>
h[<span style="color: #666666">20</span>] <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;chicken&quot;</span>
<span style="color: #008000">print</span>(h<span style="color: #666666">.</span>slots)
<span style="color: #008000">print</span>(h<span style="color: #666666">.</span>data)
<span style="color: #008000">print</span>(h[<span style="color: #666666">20</span>])
<span style="color: #008000">print</span>(h[<span style="color: #666666">17</span>])
h[<span style="color: #666666">20</span>] <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;duck&quot;</span>
<span style="color: #008000">print</span>(h[<span style="color: #666666">20</span>])
<span style="color: #008000">print</span>(h[<span style="color: #666666">99</span>])
</code></pre></div></td></tr></table></div>
</div>
<div class="tabbed-block">
<p>One of the most useful Python collections is the dictionary. Recall that a dictionary is an associative data type where you can store key-data pairs. The key is used to look up the associated data value. We often refer to this idea as a <strong>map</strong>.</p>
<p>The map abstract data type is defined as follows. The structure is an unordered collection of associations between a key and a data value. The keys in a map are all unique so that there is a one-to-one relationship between a key and a value. The operations are given below.</p>
<ul>
<li><code>Map()</code> creates a new empty map.</li>
<li><code>put(key, val)</code> adds a new key--value pair to the map. If the key is already in the map, it replaces the old value with the new value.</li>
<li><code>get(key)</code> takes a key and returns the matching value stored in the map or <code>None</code> otherwise.</li>
<li><code>del</code> deletes the key--value pair from the map using a statement of the form <code>del map[key]</code>.</li>
<li><code>size()</code> returns the number of key--value pairs stored in the map.</li>
<li><code>in</code> return <code>True</code> for a statement of the form <code>key in map</code> if the given key is in the map, <code>False</code> otherwise.</li>
</ul>
<p>One of the great benefits of a dictionary is the fact that given a key, we can look up the associated data value very quickly. In order to provide this fast look-up capability, we need an implementation that supports an efficient search. We could use a list with sequential or binary search, but it would be even better to use a hash table as described above since looking up an item in a hash table can approach $O(1)` performance.</p>
<p>In <code>Listing 2</code> we use two lists to create a <code>HashTable</code> class that implements the map abstract data type. One list, called <code>slots</code>, will hold the key items and a parallel list, called <code>data</code>, will hold the data values. When we look up a key, the corresponding position in the data list will hold the associated data value. We will treat the key list as a hash table using the ideas presented earlier. Note that the initial size for the hash table has been chosen to be 11. Although this is arbitrary, it is important that the size be a prime number so that the collision resolution algorithm can be as efficient as possible.</p>
<div class="language-python highlight" style="background: #f8f8f8"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">**Listing 2**</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">1</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">2</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">3</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">4</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">5</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008000; font-weight: bold">class</span> <span style="color: #0000FF; font-weight: bold">HashTable</span>:
    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">__init__</span>(<span style="color: #008000">self</span>):
        <span style="color: #008000">self</span><span style="color: #666666">.</span>size <span style="color: #666666">=</span> <span style="color: #666666">11</span>
        <span style="color: #008000">self</span><span style="color: #666666">.</span>slots <span style="color: #666666">=</span> [<span style="color: #008000; font-weight: bold">None</span>] <span style="color: #666666">*</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>size
        <span style="color: #008000">self</span><span style="color: #666666">.</span>data <span style="color: #666666">=</span> [<span style="color: #008000; font-weight: bold">None</span>] <span style="color: #666666">*</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>size
</code></pre></div></td></tr></table></div>
<p>As seen in <code>Listing 3</code>, <code>hash_function</code> implements the simple remainder method. The collision resolution technique is linear probing with a “plus 1” rehash value. The <code>put</code> function (see <code>Listing 3</code>) assumes that there will eventually be an empty slot unless the key is already present in the <code>self.slots</code>. It computes the original hash value and if that slot is not empty, iterates the <code>rehash</code> function until an empty slot occurs. If a nonempty slot already contains the key, the old data value is replaced with the new data value.</p>
<div class="language-python highlight" style="background: #f8f8f8"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">**Listing 3**</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 1</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 2</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 3</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 4</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 5</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 6</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 7</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 8</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 9</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">10</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">11</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">12</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">13</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">14</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">15</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">16</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">17</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">18</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">19</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">20</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">21</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">22</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">23</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">24</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">25</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">26</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">27</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">28</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">put</span>(<span style="color: #008000">self</span>, key, data):
    hash_value <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>hash_function(key, <span style="color: #008000">len</span>(<span style="color: #008000">self</span><span style="color: #666666">.</span>slots))

    <span style="color: #008000; font-weight: bold">if</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>slots[hash_value] <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #008000; font-weight: bold">None</span>:
        <span style="color: #008000">self</span><span style="color: #666666">.</span>slots[hash_value] <span style="color: #666666">=</span> key
        <span style="color: #008000">self</span><span style="color: #666666">.</span>data[hash_value] <span style="color: #666666">=</span> data
    <span style="color: #008000; font-weight: bold">else</span>:
        <span style="color: #008000; font-weight: bold">if</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>slots[hash_value] <span style="color: #666666">==</span> key:
            <span style="color: #008000">self</span><span style="color: #666666">.</span>data[hash_value] <span style="color: #666666">=</span> data  <span style="color: #3D7B7B; font-style: italic"># replace</span>
        <span style="color: #008000; font-weight: bold">else</span>:
            next_slot <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>rehash(hash_value, <span style="color: #008000">len</span>(<span style="color: #008000">self</span><span style="color: #666666">.</span>slots))
            <span style="color: #008000; font-weight: bold">while</span> (
                <span style="color: #008000">self</span><span style="color: #666666">.</span>slots[next_slot] <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #AA22FF; font-weight: bold">not</span> <span style="color: #008000; font-weight: bold">None</span>
                <span style="color: #AA22FF; font-weight: bold">and</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>slots[next_slot] <span style="color: #666666">!=</span> key
            ):
                next_slot <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>rehash(next_slot, <span style="color: #008000">len</span>(<span style="color: #008000">self</span><span style="color: #666666">.</span>slots))

            <span style="color: #008000; font-weight: bold">if</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>slots[next_slot] <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #008000; font-weight: bold">None</span>:
                <span style="color: #008000">self</span><span style="color: #666666">.</span>slots[next_slot] <span style="color: #666666">=</span> key
                <span style="color: #008000">self</span><span style="color: #666666">.</span>data[next_slot] <span style="color: #666666">=</span> data
            <span style="color: #008000; font-weight: bold">else</span>:
                <span style="color: #008000">self</span><span style="color: #666666">.</span>data[next_slot] <span style="color: #666666">=</span> data

<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">hash_function</span>(<span style="color: #008000">self</span>, key, size):
    <span style="color: #008000; font-weight: bold">return</span> key <span style="color: #666666">%</span> size

<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">rehash</span>(<span style="color: #008000">self</span>, old_hash, size):
    <span style="color: #008000; font-weight: bold">return</span> (old_hash <span style="color: #666666">+</span> <span style="color: #666666">1</span>) <span style="color: #666666">%</span> size
</code></pre></div></td></tr></table></div>
<p>The <code>get</code> function (see <code>Listing 4</code>) begins by computing the initial hash value. If the value is not in the initial slot, <code>rehash</code> is used to locate the next possible position. Notice that line 14 guarantees that the search will terminate by checking to make sure that we have not returned to the initial slot. If that happens, we have exhausted all possible slots and the item must not be present.</p>
<p>The final methods of the <code>HashTable</code> class provide additional dictionary functionality. We overload the <code>__getitem__</code> and <code>__setitem__</code> methods to allow access using <code>[]</code>. This means that once a <code>HashTable</code> has been created, the familiar index operator will be available. We leave the remaining methods as exercises.</p>
<div class="language-python highlight" style="background: #f8f8f8"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">**Listing 4**</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 1</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 2</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 3</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 4</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 5</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 6</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 7</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 8</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 9</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">10</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">11</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">12</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">13</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">14</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">15</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">16</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">17</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">get</span>(<span style="color: #008000">self</span>, key):
    start_slot <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>hash_function(key, <span style="color: #008000">len</span>(<span style="color: #008000">self</span><span style="color: #666666">.</span>slots))

    position <span style="color: #666666">=</span> start_slot
    <span style="color: #008000; font-weight: bold">while</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>slots[position] <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #AA22FF; font-weight: bold">not</span> <span style="color: #008000; font-weight: bold">None</span>:
        <span style="color: #008000; font-weight: bold">if</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>slots[position] <span style="color: #666666">==</span> key:
            <span style="color: #008000; font-weight: bold">return</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>data[position]
        <span style="color: #008000; font-weight: bold">else</span>:
            position <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>rehash(position, <span style="color: #008000">len</span>(<span style="color: #008000">self</span><span style="color: #666666">.</span>slots))
            <span style="color: #008000; font-weight: bold">if</span> position <span style="color: #666666">==</span> start_slot:
                <span style="color: #008000; font-weight: bold">return</span> <span style="color: #008000; font-weight: bold">None</span>

<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">__getitem__</span>(<span style="color: #008000">self</span>, key):
    <span style="color: #008000; font-weight: bold">return</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>get(key)

<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">__setitem__</span>(<span style="color: #008000">self</span>, key, data):
    <span style="color: #008000">self</span><span style="color: #666666">.</span>put(key, data)
</code></pre></div></td></tr></table></div>
<p>The following session shows the <code>HashTable</code> class in action. First we will create a hash table and store some items with integer keys and string data values.</p>
<div class="language-pycon highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #000080; font-weight: bold">&gt;&gt;&gt; </span>h <span style="color: #666666">=</span> HashTable()
<span style="color: #000080; font-weight: bold">&gt;&gt;&gt; </span>h[<span style="color: #666666">54</span>] <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;cat&quot;</span>
<span style="color: #000080; font-weight: bold">&gt;&gt;&gt; </span>h[<span style="color: #666666">26</span>] <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;dog&quot;</span>
<span style="color: #000080; font-weight: bold">&gt;&gt;&gt; </span>h[<span style="color: #666666">93</span>] <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;lion&quot;</span>
<span style="color: #000080; font-weight: bold">&gt;&gt;&gt; </span>h[<span style="color: #666666">17</span>] <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;tiger&quot;</span>
<span style="color: #000080; font-weight: bold">&gt;&gt;&gt; </span>h[<span style="color: #666666">77</span>] <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;bird&quot;</span>
<span style="color: #000080; font-weight: bold">&gt;&gt;&gt; </span>h[<span style="color: #666666">31</span>] <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;cow&quot;</span>
<span style="color: #000080; font-weight: bold">&gt;&gt;&gt; </span>h[<span style="color: #666666">44</span>] <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;goat&quot;</span>
<span style="color: #000080; font-weight: bold">&gt;&gt;&gt; </span>h[<span style="color: #666666">55</span>] <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;pig&quot;</span>
<span style="color: #000080; font-weight: bold">&gt;&gt;&gt; </span>h[<span style="color: #666666">20</span>] <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;chicken&quot;</span>
<span style="color: #000080; font-weight: bold">&gt;&gt;&gt; </span>h<span style="color: #666666">.</span>slots
<span style="color: #717171">[77, 44, 55, 20, 26, 93, 17, None, None, 31, 54]</span>
<span style="color: #000080; font-weight: bold">&gt;&gt;&gt; </span>h<span style="color: #666666">.</span>data
<span style="color: #717171">[&#39;bird&#39;, &#39;goat&#39;, &#39;pig&#39;, &#39;chicken&#39;, &#39;dog&#39;, &#39;lion&#39;,</span>
<span style="color: #717171">        &#39;tiger&#39;, None, None, &#39;cow&#39;, &#39;cat&#39;]</span>
</code></pre></div>
<p>Next we will access and modify some items in the hash table. Note that the value for the key 20 is being replaced.</p>
<div class="language-pycon highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #000080; font-weight: bold">&gt;&gt;&gt; </span>h[<span style="color: #666666">20</span>]
<span style="color: #717171">&#39;chicken&#39;</span>
<span style="color: #000080; font-weight: bold">&gt;&gt;&gt; </span>h[<span style="color: #666666">17</span>]
<span style="color: #717171">&#39;tiger&#39;</span>
<span style="color: #000080; font-weight: bold">&gt;&gt;&gt; </span>h[<span style="color: #666666">20</span>] <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;duck&quot;</span>
<span style="color: #000080; font-weight: bold">&gt;&gt;&gt; </span>h[<span style="color: #666666">20</span>]
<span style="color: #717171">&#39;duck&#39;</span>
<span style="color: #000080; font-weight: bold">&gt;&gt;&gt; </span>h<span style="color: #666666">.</span>data
<span style="color: #717171">[&#39;bird&#39;, &#39;goat&#39;, &#39;pig&#39;, &#39;duck&#39;, &#39;dog&#39;, &#39;lion&#39;,</span>
<span style="color: #717171">        &#39;tiger&#39;, None, None, &#39;cow&#39;, &#39;cat&#39;]</span>
<span style="color: #717171">&gt;&gt; print(h[99])</span>
<span style="color: #717171">None</span>
</code></pre></div>
<p>The complete hash table example can be found in ActiveCode 1.</p>
<div class="language-python highlight" style="background: #f8f8f8"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Activity: 5.5.3.1 Complete Hash Table Example</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 1</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 2</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 3</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 4</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 5</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 6</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 7</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 8</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 9</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">10</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">11</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">12</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">13</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">14</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">15</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">16</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">17</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">18</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">19</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">20</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">21</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">22</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">23</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">24</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">25</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">26</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">27</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">28</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">29</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">30</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">31</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">32</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">33</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">34</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">35</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">36</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">37</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">38</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">39</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">40</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">41</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">42</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">43</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">44</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">45</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">46</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">47</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">48</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">49</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">50</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">51</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">52</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">53</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">54</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">55</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">56</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">57</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">58</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">59</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">60</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">61</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">62</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">63</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">64</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">65</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">66</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">67</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">68</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">69</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">70</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008000; font-weight: bold">class</span> <span style="color: #0000FF; font-weight: bold">HashTable</span>:
    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">__init__</span>(<span style="color: #008000">self</span>):
        <span style="color: #008000">self</span><span style="color: #666666">.</span>size <span style="color: #666666">=</span> <span style="color: #666666">11</span>
        <span style="color: #008000">self</span><span style="color: #666666">.</span>slots <span style="color: #666666">=</span> [<span style="color: #008000; font-weight: bold">None</span>] <span style="color: #666666">*</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>size
        <span style="color: #008000">self</span><span style="color: #666666">.</span>data <span style="color: #666666">=</span> [<span style="color: #008000; font-weight: bold">None</span>] <span style="color: #666666">*</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>size

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">put</span>(<span style="color: #008000">self</span>, key, data):
        hash_value <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>hash_function(key, <span style="color: #008000">len</span>(<span style="color: #008000">self</span><span style="color: #666666">.</span>slots))

        <span style="color: #008000; font-weight: bold">if</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>slots[hash_value] <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #008000; font-weight: bold">None</span>:
            <span style="color: #008000">self</span><span style="color: #666666">.</span>slots[hash_value] <span style="color: #666666">=</span> key
            <span style="color: #008000">self</span><span style="color: #666666">.</span>data[hash_value] <span style="color: #666666">=</span> data
        <span style="color: #008000; font-weight: bold">else</span>:
            <span style="color: #008000; font-weight: bold">if</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>slots[hash_value] <span style="color: #666666">==</span> key:
                <span style="color: #008000">self</span><span style="color: #666666">.</span>data[hash_value] <span style="color: #666666">=</span> data  <span style="color: #3D7B7B; font-style: italic"># replace</span>
            <span style="color: #008000; font-weight: bold">else</span>:
                next_slot <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>rehash(hash_value, <span style="color: #008000">len</span>(<span style="color: #008000">self</span><span style="color: #666666">.</span>slots))
                <span style="color: #008000; font-weight: bold">while</span> (
                    <span style="color: #008000">self</span><span style="color: #666666">.</span>slots[next_slot] <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #AA22FF; font-weight: bold">not</span> <span style="color: #008000; font-weight: bold">None</span>
                    <span style="color: #AA22FF; font-weight: bold">and</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>slots[next_slot] <span style="color: #666666">!=</span> key
                ):
                    next_slot <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>rehash(next_slot, <span style="color: #008000">len</span>(<span style="color: #008000">self</span><span style="color: #666666">.</span>slots))

                <span style="color: #008000; font-weight: bold">if</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>slots[next_slot] <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #008000; font-weight: bold">None</span>:
                    <span style="color: #008000">self</span><span style="color: #666666">.</span>slots[next_slot] <span style="color: #666666">=</span> key
                    <span style="color: #008000">self</span><span style="color: #666666">.</span>data[next_slot] <span style="color: #666666">=</span> data
                <span style="color: #008000; font-weight: bold">else</span>:
                    <span style="color: #008000">self</span><span style="color: #666666">.</span>data[next_slot] <span style="color: #666666">=</span> data

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">hash_function</span>(<span style="color: #008000">self</span>, key, size):
        <span style="color: #008000; font-weight: bold">return</span> key <span style="color: #666666">%</span> size

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">rehash</span>(<span style="color: #008000">self</span>, old_hash, size):
        <span style="color: #008000; font-weight: bold">return</span> (old_hash <span style="color: #666666">+</span> <span style="color: #666666">1</span>) <span style="color: #666666">%</span> size

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">get</span>(<span style="color: #008000">self</span>, key):
        start_slot <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>hash_function(key, <span style="color: #008000">len</span>(<span style="color: #008000">self</span><span style="color: #666666">.</span>slots))

        position <span style="color: #666666">=</span> start_slot
        <span style="color: #008000; font-weight: bold">while</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>slots[position] <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #AA22FF; font-weight: bold">not</span> <span style="color: #008000; font-weight: bold">None</span>:
            <span style="color: #008000; font-weight: bold">if</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>slots[position] <span style="color: #666666">==</span> key:
                <span style="color: #008000; font-weight: bold">return</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>data[position]
            <span style="color: #008000; font-weight: bold">else</span>:
                position <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>rehash(position, <span style="color: #008000">len</span>(<span style="color: #008000">self</span><span style="color: #666666">.</span>slots))
                <span style="color: #008000; font-weight: bold">if</span> position <span style="color: #666666">==</span> start_slot:
                    <span style="color: #008000; font-weight: bold">return</span> <span style="color: #008000; font-weight: bold">None</span>

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">__getitem__</span>(<span style="color: #008000">self</span>, key):
        <span style="color: #008000; font-weight: bold">return</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>get(key)

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">__setitem__</span>(<span style="color: #008000">self</span>, key, data):
        <span style="color: #008000">self</span><span style="color: #666666">.</span>put(key, data)

h <span style="color: #666666">=</span> HashTable()
h[<span style="color: #666666">54</span>] <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;cat&quot;</span>
h[<span style="color: #666666">26</span>] <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;dog&quot;</span>
h[<span style="color: #666666">93</span>] <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;lion&quot;</span>
h[<span style="color: #666666">17</span>] <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;tiger&quot;</span>
h[<span style="color: #666666">77</span>] <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;bird&quot;</span>
h[<span style="color: #666666">31</span>] <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;cow&quot;</span>
h[<span style="color: #666666">44</span>] <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;goat&quot;</span>
h[<span style="color: #666666">55</span>] <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;pig&quot;</span>
h[<span style="color: #666666">20</span>] <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;chicken&quot;</span>
<span style="color: #008000">print</span>(h<span style="color: #666666">.</span>slots)
<span style="color: #008000">print</span>(h<span style="color: #666666">.</span>data)
<span style="color: #008000">print</span>(h[<span style="color: #666666">20</span>])
<span style="color: #008000">print</span>(h[<span style="color: #666666">17</span>])
h[<span style="color: #666666">20</span>] <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;duck&quot;</span>
<span style="color: #008000">print</span>(h[<span style="color: #666666">20</span>])
<span style="color: #008000">print</span>(h[<span style="color: #666666">99</span>])
</code></pre></div></td></tr></table></div>
</div>
</div>
</div>
<h2 id="554-哈希分析">5.5.4. 哈希分析<a class="headerlink" href="#554-哈希分析" title="Permanent link">&para;</a></h2>
<p><strong>5.5.4. Analysis of Hashing</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="7:2"><input checked="checked" id="__tabbed_7_1" name="__tabbed_7" type="radio" /><input id="__tabbed_7_2" name="__tabbed_7" type="radio" /><div class="tabbed-labels"><label for="__tabbed_7_1">中文</label><label for="__tabbed_7_2">英文</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>We stated earlier that in the best case hashing would provide an <span class="arithmatex">\(O(1)\)</span>, constant time search technique. However, due to collisions, the number of comparisons is typically not so simple. Even though a complete analysis of hashing is beyond the scope of this text, we can state some well-known results that approximate the number of comparisons necessary to search for an item.</p>
<p>The most important piece of information we need to analyze the use of a hash table is the load factor, <span class="arithmatex">\(\lambda\)</span>. Conceptually, if <span class="arithmatex">\(\lambda\)</span> is small, then there is a lower chance of collisions, meaning that items are more likely to be in the slots where they belong. If <span class="arithmatex">\(\lambda\)</span> is large, meaning that the table is filling up, then there are more and more collisions. This means that collision resolution is more difficult, requiring more comparisons to find an empty slot. With chaining, increased collisions means an increased number of items on each chain.</p>
<p>As before, we will have a result for both a successful and an unsuccessful search. For a successful search using open addressing with linear probing, the average number of comparisons is approximately <span class="arithmatex">\(\frac{1}{2}\left(1+\frac{1}{1-\lambda}\right)\)</span> and an unsuccessful search gives <span class="arithmatex">\(\frac{1}{2}\left(1+\left(\frac{1}{1-\lambda}\right)^2\right)\)</span> If we are using chaining, the average number of comparisons is <span class="arithmatex">\(1 + \frac {\lambda}{2}\)</span> for the successful case, and simply <span class="arithmatex">\(\lambda\)</span> comparisons if the search is unsuccessful.</p>
</div>
<div class="tabbed-block">
<p>We stated earlier that in the best case hashing would provide an <span class="arithmatex">\(O(1)\)</span>, constant time search technique. However, due to collisions, the number of comparisons is typically not so simple. Even though a complete analysis of hashing is beyond the scope of this text, we can state some well-known results that approximate the number of comparisons necessary to search for an item.</p>
<p>The most important piece of information we need to analyze the use of a hash table is the load factor, <span class="arithmatex">\(\lambda\)</span>. Conceptually, if <span class="arithmatex">\(\lambda\)</span> is small, then there is a lower chance of collisions, meaning that items are more likely to be in the slots where they belong. If <span class="arithmatex">\(\lambda\)</span> is large, meaning that the table is filling up, then there are more and more collisions. This means that collision resolution is more difficult, requiring more comparisons to find an empty slot. With chaining, increased collisions means an increased number of items on each chain.</p>
<p>As before, we will have a result for both a successful and an unsuccessful search. For a successful search using open addressing with linear probing, the average number of comparisons is approximately <span class="arithmatex">\(\frac{1}{2}\left(1+\frac{1}{1-\lambda}\right)\)</span> and an unsuccessful search gives <span class="arithmatex">\(\frac{1}{2}\left(1+\left(\frac{1}{1-\lambda}\right)^2\right)\)</span> If we are using chaining, the average number of comparisons is <span class="arithmatex">\(1 + \frac {\lambda}{2}\)</span> for the successful case, and simply <span class="arithmatex">\(\lambda\)</span> comparisons if the search is unsuccessful.</p>
</div>
</div>
</div>

  <hr>
<div class="md-source-file">
  <small>
    
      最后更新:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">2024年9月11日</span>
      
        <br>
        创建日期:
        <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">2024年9月9日</span>
      
    
  </small>
</div>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["header.autohide", "navigation.top", "navigation.tabs", "navigation.tabs.sticky", "navigation.path", "content.tabs.link", "content.code.copy", "content.tooltips", "navigation.indexes", "navigation.prune", "navigation.instant"], "search": "../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.94c44541.min.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="../../javascripts/katex.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://unpkg.com/katex@0/dist/katex.min.js"></script>
      
        <script src="https://unpkg.com/katex@0/dist/contrib/auto-render.min.js"></script>
      
    
  <script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body>
</html>